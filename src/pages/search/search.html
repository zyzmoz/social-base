<ion-header>
  <ion-toolbar>
    <ion-navbar>
      <ion-title>Find {{view === 'posts'? 'Posts': 'People'}}</ion-title>
    </ion-navbar>
    <ion-searchbar (ionInput)="search($event)"></ion-searchbar>
    <ion-segment [(ngModel)]="view">
      <ion-segment-button (click)="search({target:{value: searchStr}})" value="posts">
        Post
      </ion-segment-button>
      <ion-segment-button (click)="search({target:{value: searchStr}})" value="people">
        People
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>

</ion-header>

<ion-content>

  <div [ngSwitch]="view">
    <div *ngSwitchCase="'posts'">
      <timeline [timeline]="timeline"></timeline>
    </div>
    <div *ngSwitchCase="'people'">
      <div *ngIf="users">
        <ion-card *ngFor="let user of users">
          <ion-item>
            <ion-avatar  (click)="goToProfile(user.uid)" item-start>
              <img [src]="user.photoURL">
            </ion-avatar>
            <h2>{{user.name}}</h2>
            <p>{{user.username}}</p>
            <button (click)="follow(user.uid)" *ngIf="!followingStatus(user.uid)" ion-button icon-left item-end>
              <ion-icon name="add"></ion-icon>
              Follow
            </button>
            <button (click)="unfollow(user.uid)" *ngIf="followingStatus(user.uid)" color="danger" ion-button icon-left item-end>
              <ion-icon name="remove"></ion-icon>
              Unfollow
            </button>
          </ion-item>
        </ion-card>
      </div>

    </div>
  </div>




</ion-content>